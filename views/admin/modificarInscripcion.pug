doctype html
html
  head
    title Modificar Inscripciones
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css")

    style.
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
      }
      form, table {
        margin: 0 auto;
        width: 90%;
        max-width: 1000px;
      }
      table {
        border-collapse: collapse;
        width: 100%;
        margin-top: 20px;
      }
      th, td {
        border: 1px solid #ccc;
        padding: 8px;
        text-align: center;
      }
      th {
        background-color: #f0f0f0;
      }

    script.
      function soloUnCheckbox(clicked) {
        const checkboxes = document.querySelectorAll('input[name="seleccion"]');
        checkboxes.forEach(cb => {
          if (cb !== clicked) cb.checked = false;
        });
      }

  body
    .container
      h1.text-center.mb-4 Modificar Inscripciones

      form(action="/admin/modificarInscripcion" method="post")
        if inscripcionSeleccionada
          input(type="hidden", name="idInscripcion", value=inscripcionSeleccionada.id)

        .row.mb-3
          .col-md-6
            label.form-label(for="nombre") Nombre:
            input.form-control(type="text", name="nombre", id="nombre", required, value=inscripcionSeleccionada ? inscripcionSeleccionada.nombre : '')
          .col-md-6
            label.form-label(for="apellido") Apellido:
            input.form-control(type="text", name="apellido", id="apellido", required, value=inscripcionSeleccionada ? inscripcionSeleccionada.apellido : '')

        .row.mb-3
          .col-md-6
            label.form-label(for="dni") DNI:
            input.form-control(type="text", name="dni", id="dni", required, value=inscripcionSeleccionada ? inscripcionSeleccionada.dni : '')
          .col-md-6
            label.form-label(for="direccion") Dirección:
            input.form-control(type="text", name="direccion", id="direccion", value=inscripcionSeleccionada ? inscripcionSeleccionada.direccion : '')

        .row.mb-3
          .col-md-6
            label.form-label(for="correo") Correo Electrónico:
            input.form-control(type="email", name="correo", id="correo", value=inscripcionSeleccionada ? inscripcionSeleccionada.correo : '')
          .col-md-6
            label.form-label(for="telefono") Teléfono:
            input.form-control(type="text", name="telefono", id="telefono", value=inscripcionSeleccionada ? inscripcionSeleccionada.telefono : '')

        .row.mb-3
          .col-md-6
            label.form-label(for="nombreCurso") Nombre Curso:
            input.form-control(type="text", name="nombreCurso", id="nombreCurso", required, value=inscripcionSeleccionada ? inscripcionSeleccionada.nombreCurso : '')
          .col-md-6
            label.form-label(for="carreraCurso") Carrera o Curso:
            input.form-control(type="text", name="carreraCurso", id="carreraCurso", value=inscripcionSeleccionada ? inscripcionSeleccionada.carreraCurso : '')

        .row.mb-3
          .col-md-6
            label.form-label(for="dia") Día:
            input.form-control(type="text", name="dia", id="dia", value=inscripcionSeleccionada ? inscripcionSeleccionada.dia : '')
          .col-md-6
            label.form-label(for="horario") Horario:
            input.form-control(type="text", name="horario", id="horario", value=inscripcionSeleccionada ? inscripcionSeleccionada.horario : '')

        .d-flex.justify-content-between.mb-4
          button.btn.btn-success(type="submit") Aceptar
          a(href="/admin/inscripciones")
            button.btn.btn-danger(type="button") Cancelar

      hr

      h2.text-center.mt-5.mb-3 Inscripciones Registradas

      if inscripciones && inscripciones.length > 0
        table.table.table-striped
          thead
            tr
              th Seleccionar
              th Nombre
              th Apellido
              th DNI
              th Dirección
              th Correo
              th Teléfono
              th Curso
              th Carrera/Curso
              th Día
              th Horario
              th Acciones
          tbody
            each inscripcion in inscripciones
              tr
                td
                  input(type="checkbox", name="seleccion", onclick="soloUnCheckbox(this)")
                td= inscripcion.nombre
                td= inscripcion.apellido
                td= inscripcion.dni
                td= inscripcion.direccion
                td= inscripcion.correo
                td= inscripcion.telefono
                td= inscripcion.nombreCurso
                td= inscripcion.carreraCurso
                td= inscripcion.dia
                td= inscripcion.horario
                td
                  form(action=`/admin/modificarInscripcion/${inscripcion.id}` method="get")
                    button.btn.btn-primary(type="submit") Modificar
      else
        p.text-center No hay inscripciones registradas.
